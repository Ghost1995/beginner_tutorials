# ROS Publisher/Subscriber
[![License](https://img.shields.io/badge/License-BSD%203--Clause-blue.svg)](https://opensource.org/licenses/BSD-3-Clause)
---

## Overview

This program is a basic implementation of a publisher and a subscriber in ROS. It has been generated by creating a catkin package, editing the default package.xml and CMakeLists.txt, and then creating two nodes, a publisher (talker) node and a subscriber (listener) node to demonstarte how they interact with each other. A launch file has also been created which launches both publisher and subscriber nodes.

## Dependencies

This program works on a device running Ubuntu 16.04 and ROS Kinetic.

To install ROS Kinetic in Ubuntu 16.04, follow the steps in this [link](http://wiki.ros.org/kinetic/Installation/Ubuntu).

To install catkin, follow the installation steps in this [link](http://wiki.ros.org/catkin).

## Build Instructions

To build this code in a catkin workspace:
```
cd ~/catkin_ws/
catkin_make
source devel/setup.bash
cd src/
git clone -b Week10_HW --single-branch https://github.com/Ghost1995/beginner_tutorials.git
cd ..
catkin_make
source devel/setup.bash
```
Note, that if you do not have a catkin workspace, then first make the catkin workspace using the following command:
```
mkdir -p ~/catkin_ws/src
```

## Run Instructions

### 1) Use Launch File

* **Use the Default Frequency**

After following the build instructions, launch the code:
```
source ~/catkin_ws/devel/setup.bash
roslaunch beginner_tutorials nodes.launch 
```
* **Use User-defined Frequency**

After following the build instructions, launch the code with frequency as argument:
```
source ~/catkin_ws/devel/setup.bash
roslaunch beginner_tutorials nodes.launch f:=<desired_frequency>
```

### 2) Run each node separately

To run this code, three terminals are required.

Set environment vairables and run roscore in Terminal 1:
```
source ~/catkin_ws/devel/setup.bash
roscore
```
Set environment variables and run publisher (talker) node in Terminal 2:
```
source ~/catkin_ws/devel/setup.bash
rosrun beginner_tutorials talker
```
Set environment variables and run subscriber (listener) node in Terminal 3:
```
source ~/catkin_ws/devel/setup.bash
rosrun beginner_tutorials listener
```

## Use ROS Service

After running the code by following either one of the run instructions, both the talker and listener nodes will be active. Now, open a new terminal and start the service:
```
source ~/catkin_ws/devel/setup.bash
rosservice call /editString "input: '<any_string>'"
``` 

## Plugins
##### CppChEclipse
To run cppcheck in Terminal
```
cd <path to directory>
cppcheck --std=c++11 $(find . -name \*.cpp -or -name \*.srv | grep -vE -e "^./build/" -e "^./results/")
```
##### Google C++ Sytle
To check Google C++ Style formatting in Terminal
```
cd <path to directory>
cpplint $(find . -name \*.cpp | grep -vE -e "^./build/" -e "^./results")
```
